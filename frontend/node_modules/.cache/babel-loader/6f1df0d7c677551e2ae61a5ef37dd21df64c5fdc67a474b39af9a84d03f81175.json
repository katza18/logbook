{"ast":null,"code":"import { create } from 'zustand';\nimport axios from 'axios';\nconst exercisesStore = create(set => ({\n  exercises: null,\n  create: false,\n  emptyExercise: {\n    number: \"\",\n    exercise: \"\",\n    weight: \"\",\n    sets: \"\",\n    reps: \"\",\n    intensity: \"\",\n    notes: \"\"\n  },\n  //may not need\n  createForm: {\n    number: \"\",\n    exercise: \"\",\n    weight: \"\",\n    sets: \"\",\n    reps: \"\",\n    intensity: \"\",\n    notes: \"\",\n    _id: null\n  },\n  /*\n  updateForm: {\n      title: \"\",\n      body: \"\",\n      date: null,\n      _id: null\n  },\n  */\n\n  setCreateFalse: () => {\n    set({\n      create: false\n    });\n  },\n  /*\n  updateCreateFormField: (e) => {\n      const {name, value} = e.target;\n      set((state) => {\n          return {\n              createForm: {\n                  ...state.createForm,\n                  [name]: value\n              }\n          };\n      });\n  },\n  */\n\n  updateUpdateFormField: e => {\n    const {\n      name,\n      value\n    } = e.target;\n    set(state => {\n      return {\n        updateForm: {\n          ...state.updateForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  fetchExercises: async _id => {\n    const res = await axios.get(`/workouts/${_id}/exercises`);\n    set({\n      exercises: res.data.exercises\n    });\n  },\n  createExercise: async e => {\n    //create an empty exercise that will be updated\n    const {\n      emptyExercise,\n      exercises\n    } = exercisesStore.getState();\n    e.preventDefault();\n    const res = await axios.post(\"/workouts\", emptyExercise);\n    set({\n      exercises: [...exercises, res.data.exercise]\n    });\n  },\n  deleteExercise: async _id => {\n    const {\n      exercises\n    } = exercisesStore.getState();\n    await axios.delete(`/exercises/${_id}`);\n    const newExercises = exercises.filter(exercise => {\n      return exercise._id !== _id;\n    });\n    set({\n      workouts: newWorkouts\n    });\n  },\n  toggleUpdate: exercise => {\n    set({\n      updateForm: {\n        name: exercise.name,\n        body: exercise.body,\n        _id: exercise._id\n      }\n    });\n  },\n  toggleCreate: workout => {\n    set({\n      create: true\n    });\n  },\n  updateWorkout: async e => {\n    e.preventDefault();\n    const {\n      updateForm: {\n        title,\n        body,\n        date,\n        _id\n      },\n      workouts\n    } = workoutsStore.getState();\n    const res = await axios.put(`/workouts/${_id}`, {\n      title,\n      body,\n      date\n    });\n    const newWorkouts = [...workouts];\n    const workoutIndex = workouts.findIndex(workout => {\n      return workout._id === _id;\n    });\n    newWorkouts[workoutIndex] = res.data.workout;\n    set({\n      workouts: newWorkouts,\n      updateForm: {\n        title: \"\",\n        body: \"\",\n        _id: null,\n        date: null\n      }\n    });\n  }\n}));\nexport default exercisesStore;","map":{"version":3,"names":["create","axios","exercisesStore","set","exercises","emptyExercise","number","exercise","weight","sets","reps","intensity","notes","createForm","_id","setCreateFalse","updateUpdateFormField","e","name","value","target","state","updateForm","fetchExercises","res","get","data","createExercise","getState","preventDefault","post","deleteExercise","delete","newExercises","filter","workouts","newWorkouts","toggleUpdate","body","toggleCreate","workout","updateWorkout","title","date","workoutsStore","put","workoutIndex","findIndex"],"sources":["/Users/aidankatz/Projects/logbook-simple/frontend/src/stores/exercisesStore.js"],"sourcesContent":["import { create } from 'zustand';\nimport axios from 'axios';\n\nconst exercisesStore = create((set) => ({\n    exercises: null,\n    create: false,\n\n    emptyExercise: {\n        number: \"\",\n        exercise: \"\",\n        weight: \"\",\n        sets: \"\",\n        reps: \"\",\n        intensity: \"\",\n        notes: \"\",\n    },\n\n    //may not need\n    createForm: {\n        number: \"\",\n        exercise: \"\",\n        weight: \"\",\n        sets: \"\",\n        reps: \"\",\n        intensity: \"\",\n        notes: \"\",\n        _id: null\n    },\n\n    /*\n    updateForm: {\n        title: \"\",\n        body: \"\",\n        date: null,\n        _id: null\n    },\n    */\n\n    setCreateFalse: () => {\n        set({\n            create: false\n        });\n    },\n\n    /*\n    updateCreateFormField: (e) => {\n        const {name, value} = e.target;\n        set((state) => {\n            return {\n                createForm: {\n                    ...state.createForm,\n                    [name]: value\n                }\n            };\n        });\n    },\n    */\n\n    updateUpdateFormField: (e) => {\n        const {name, value} = e.target;\n\n        set(state => {\n            return {\n                updateForm: {\n                    ...state.updateForm,\n                    [name]: value\n                }\n            }\n        });\n    },\n\n    fetchExercises: async (_id) => {\n        const res = await axios.get(`/workouts/${_id}/exercises`);\n        set({\n            exercises: res.data.exercises\n        });\n    },\n\n    createExercise: async (e) => {\n        //create an empty exercise that will be updated\n        const { emptyExercise, exercises } = exercisesStore.getState();\n        e.preventDefault();\n        const res = await axios.post(\"/workouts\", emptyExercise);\n\n        set({\n            exercises: [...exercises, res.data.exercise],\n        });\n    },\n\n    deleteExercise: async (_id) => {\n        const { exercises } = exercisesStore.getState();\n\n        await axios.delete(`/exercises/${_id}`);\n\n        const newExercises = exercises.filter((exercise) => {\n            return exercise._id !== _id;\n        });\n\n        set({\n            workouts: newWorkouts\n        });\n    },\n\n    toggleUpdate: (exercise) => {\n        set({\n            updateForm: {\n                name: exercise.name,\n                body: exercise.body,\n                _id: exercise._id\n            }\n        });\n    },\n\n    toggleCreate: (workout) => {\n        set({\n            create: true\n        });\n    },\n\n    updateWorkout: async (e) => {\n        e.preventDefault();\n        const {updateForm: {title, body, date, _id}, workouts} = workoutsStore.getState();\n        const res = await axios.put(`/workouts/${_id}`, {title, body, date});\n\n        const newWorkouts = [...workouts];\n        const workoutIndex = workouts.findIndex((workout) => {\n            return workout._id === _id;\n        });\n        newWorkouts[workoutIndex] = res.data.workout;\n\n        set({\n            workouts: newWorkouts,\n            updateForm: {\n                title: \"\", body: \"\", _id: null, date: null\n            }\n        });\n    }\n  }));\n\nexport default exercisesStore;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}